/* General Styling */
.root-pane {
    -fx-background-color: #f4f7f6; /* Light background for the whole app */
    -fx-font-family: "Segoe UI", "Roboto", sans-serif; /* Modern font stack */
}

/* Control Panel */
.control-panel {
    -fx-background-color: #ffffff; /* White background for the control panel */
    -fx-border-color: #e0e0e0;
    -fx-border-width: 0 1px 0 0; /* Right border only */
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10, 0, 0, 0); /* Subtle shadow */
}

.control-panel .label {
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
}

.control-panel .text-field {
    -fx-pref-height: 35px;
    -fx-font-size: 13px;
    -fx-background-color: #f9f9f9;
    -fx-border-color: #d0d0d0;
    -fx-border-radius: 5px;
    -fx-padding: 0 10px;
    -fx-prompt-text-fill: #999999;
}

.control-panel .text-field:focused {
    -fx-border-color: #007bff;
    -fx-background-color: #ffffff;
}

.titled-pane > .title {
    -fx-background-color: #e9ecef; /* Light grey title background */
    -fx-font-size: 15px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
    -fx-padding: 10px 15px;
    -fx-background-radius: 5px 5px 0 0;
}

.titled-pane > .content {
    -fx-background-color: #ffffff;
    -fx-padding: 15px;
    -fx-border-color: #e0e0e0;
    -fx-border-width: 0 1px 1px 1px;
    -fx-border-radius: 0 0 5px 5px;
}

/* Buttons */
.button {
    -fx-background-color: #e0e0e0;
    -fx-text-fill: #333333;
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-pref-height: 40px;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, 0);
    -fx-transition: -fx-background-color 0.2s ease, -fx-scale-x 0.1s ease, -fx-scale-y 0.1s ease; /* Added transitions */
}

.button:hover {
    -fx-opacity: 0.9;
    -fx-scale-y: 1.01;
    -fx-scale-x: 1.01;
}

.button:pressed {
    -fx-scale-y: 0.98; /* Slight squash effect */
    -fx-scale-x: 0.98; /* Slight squash effect */
    -fx-effect: innershadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 0);
}

.button-primary {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
}

.button-success {
    -fx-background-color: #28a745;
    -fx-text-fill: white;
}

.button-info {
    -fx-background-color: #17a2b8;
    -fx-text-fill: white;
}

.button-warning {
    -fx-background-color: #ffc107;
    -fx-text-fill: #333333; /* Darker text for warning button */
}

.button-danger {
    -fx-background-color: #dc3545;
    -fx-text-fill: white;
}

.button-danger-outline {
    -fx-background-color: transparent;
    -fx-border-color: #dc3545;
    -fx-border-width: 2px;
    -fx-text-fill: #dc3545;
}

.button-danger-outline:hover {
    -fx-background-color: #dc3545;
    -fx-text-fill: white;
}

/* Right Panel */
.right-panel {
    -fx-background-color: #f4f7f6; /* Consistent with root-pane */
}

.header-title {
    -fx-font-size: 28px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
    -fx-padding: 0 0 5px 0;
}

.header-subtitle {
    -fx-font-size: 14px;
    -fx-text-fill: #666666;
    -fx-padding: 0 0 20px 0;
}

/* TableView */
.table-view {
    -fx-background-color: #ffffff;
    -fx-border-color: #e0e0e0;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 10, 0, 0, 0); /* Subtle shadow */
}

.table-view .column-header-background {
    -fx-background-color: #007bff; /* Blue header */
    -fx-background-radius: 5px 5px 0 0;
}

.table-view .column-header,
.table-view .filler {
    -fx-background-color: transparent;
    -fx-border-width: 0 1px 0 0;
    -fx-border-color: rgba(255, 255, 255, 0.2); /* Lighter border for headers */
}

.table-view .column-header .label {
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-font-size: 13px;
}

.table-view .table-row-cell {
    -fx-background-color: -fx-table-cell-border-color, #ffffff;
    -fx-background-insets: 0, 0 0 1 0;
    -fx-padding: 0;
    -fx-cell-size: 40px; /* Adjust row height */
    -fx-transition: -fx-background-color 0.1s ease-out; /* Smooth hover transition */
}

.table-view .table-row-cell:odd {
    -fx-background-color: -fx-table-cell-border-color, #f9f9f9; /* Zebra striping */
}

.table-view .table-row-cell:selected {
    -fx-background-color: #b3d7ff; /* Lighter blue for selected rows */
}

.table-view .table-row-cell:hover {
    -fx-background-color: -fx-table-cell-border-color, #e0e0e0; /* Hover background color */
}


.table-view .table-cell {
    -fx-border-color: transparent #e0e0e0 transparent transparent; /* Cell borders */
    -fx-border-width: 0 1px 0 0;
    -fx-padding: 0 8px;
    -fx-alignment: CENTER_LEFT;
}

/* Specific cell alignment */
.table-view .centered-cell {
    -fx-alignment: CENTER;
}

/* Style for non-editable, calculated cells to distinguish them */
.table-view .calculated-cell {
    -fx-font-style: italic;
    -fx-text-fill: #495057; /* A muted, professional grey */
}

/* Editable cells (AlwaysEditingCell) */
.table-view .editing-cell {
    -fx-padding: 0; /* Remove default padding for cell itself */
    -fx-font-style: normal; /* Ensure editing cells are not italic */
}
.table-view .editing-cell .text-field {
    -fx-background-color: transparent;
    -fx-border-color: transparent;
    -fx-padding: 0 8px; /* Apply padding to the text field */
    -fx-alignment: CENTER; /* Align text within the cell */
    -fx-font-size: 13px;
    -fx-font-style: normal; /* Ensure text field is not italic */
    -fx-text-fill: #212529; /* Standard dark text for editing */
}

/* Style for focused cell (whether editing or just selected) */
.table-view .table-cell.focused-cell {
    -fx-border-color: #007bff; /* Highlight with blue border */
    -fx-border-width: 1px;
    -fx-background-color: #e6f2ff; /* Light blue background */
}


.cell-error {
    -fx-background-color: #ffcccc; /* Light red for error cells */
    -fx-text-fill: #cc0000;
    -fx-border-color: #ff9999;
    -fx-border-width: 1px;
}

/* Placeholder for empty table */
.table-placeholder {
    -fx-font-size: 18px;
    -fx-text-fill: #999999;
    -fx-alignment: CENTER;
}

/* Grade Cell Styling */
.grade-label {
    -fx-font-weight: bold;
    -fx-text-fill: white; /* Default text color, overridden by specific grades */
    -fx-background-color: transparent; /* Base, specific grades will add color */
    -fx-padding: 3px 8px;
    -fx-background-radius: 4px;
}

.grade-a .grade-label {
    -fx-background-color: #28a745; /* Green */
}

.grade-b .grade-label {
    -fx-background-color: #007bff; /* Blue */
}

.grade-c .grade-label {
    -fx-background-color: #ffc107; /* Yellow/Orange */
    -fx-text-fill: #333333; /* Darker text for better contrast */
}

.grade-d .grade-label {
    -fx-background-color: #fd7e14; /* Orange */
}

.grade-f .grade-label {
    -fx-background-color: #dc3545; /* Red */
}

/* --- NEWLY ADDED --- */
.grade-na .grade-label {
    -fx-background-color: #6c757d; /* Neutral grey for N/A */
}

/* Summary Card */
.summary-card {
    -fx-background-color: #ffffff;
    -fx-border-color: #e0e0e0;
    -fx-border-radius: 8px;
    -fx-background-radius: 8px;
    -fx-padding: 15px 25px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 15, 0, 0, 0); /* Stronger shadow */
    -fx-min-width: 200px;
}

.summary-card.summary-error {
    -fx-background-color: #ffe6e6; /* Light red for error state */
    -fx-border-color: #ff9999;
}

.summary-title {
    -fx-font-size: 16px;
    -fx-font-weight: bold;
    -fx-text-fill: #555555;
}

.summary-value {
    -fx-font-size: 32px;
    -fx-font-weight: bold;
    -fx-text-fill: #007bff; /* Primary color */
}

.summary-card.summary-error .summary-value {
    -fx-text-fill: #dc3545; /* Red for error value */
}


/* Context Menu */
.context-menu {
    -fx-background-color: #ffffff;
    -fx-background-radius: 5px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 0);
    -fx-padding: 5px 0;
}

.context-menu .menu-item {
    -fx-padding: 8px 15px;
    -fx-text-fill: #333333;
}

.context-menu .menu-item:focused {
    -fx-background-color: #e0e0e0;
}

.context-menu .menu-item .label {
    -fx-font-size: 13px;
}

.context-menu .menu-item-danger .label {
    -fx-text-fill: #dc3545;
}

.context-menu .menu-item-danger:focused {
    -fx-background-color: #dc3545;
}

.context-menu .menu-item-danger:focused .label {
    -fx-text-fill: white;
}

.context-menu .separator .line {
    -fx-border-color: #e0e0e0;
    -fx-border-width: 1px 0 0 0;
}


/* Alert Dialogs */
.alert.custom-dialog {
    -fx-background-color: #ffffff;
    -fx-border-radius: 8px;
    -fx-background-radius: 8px;
    -fx-padding: 20px;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 0);
}

.alert.custom-dialog .header-panel {
    -fx-background-color: transparent;
    -fx-padding: 0;
}

.alert.custom-dialog .header-panel .label {
    -fx-font-size: 20px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
    -fx-padding: 0;
}

.alert.custom-dialog .content.label {
    -fx-font-size: 14px;
    -fx-text-fill: #666666;
    -fx-padding: 15px 0 0 0;
}

.alert.custom-dialog .button-bar {
    -fx-background-color: transparent;
    -fx-padding: 15px 0 0 0;
}

.alert.custom-dialog .button-bar .button {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-pref-height: 35px;
    -fx-padding: 0 20px;
    -fx-background-radius: 5px;
}

.alert.custom-dialog .button-bar .button:hover {
    -fx-opacity: 0.9;
}

.alert.custom-dialog .button-bar .button:default {
    -fx-background-color: #0056b3; /* Darker blue for default button */
}

.alert.custom-dialog .button-bar .button:cancel {
    -fx-background-color: #6c757d;
    -fx-text-fill: white;
}

.alert.custom-dialog .button-bar .button:cancel:hover {
    -fx-background-color: #5a6268;
}